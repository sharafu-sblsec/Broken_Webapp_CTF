<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet" />

  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600&family=Playfair+Display:wght@700&family=Great+Vibes&family=Montserrat:wght@700&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="/static/css/admindash.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/admindash.css') }}">


</head>
<body>

  <div class="title-box">
    
  <img src="/static/adminlogo.png" alt="logo" class="logo">
  </div>

  <div class="admin-box">
    
    <div class="admin-title">
      MeWW!! welcome  Admin  <br>
    </div>

    <div class="mb-4 text-center">
      <p><strong>Full Name:</strong> {{ fullname }}</p>
      <p><strong>Account Number:</strong> {{ account_number }}</p>
    </div>

    
    <div class="section-title">All Users</div>
    <div class="table-responsive">
      <table class="table table-striped table-bordered user-table">
        <thead class="table-dark">
          <tr>
            <th>#</th>
            <th>Full Name</th>
            <th>Username</th>
            <th>Account Number</th>
            <th>Balance</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for user in users %}
          <tr>
            <td>{{ loop.index }}</td>
            <td>{{ user.fullname }}</td>
            <td>{{ user.username }}</td>
            <td>{{ user.account_number }}</td>
            <td>${{ user.balance }}</td>
            <td>
              <a href="/admin/user/{{ user.id }}" class="btn btn-sm btn-primary">View</a>
            </td>
          </tr>
          {% else %}
          <tr>
            <td colspan="6" class="text-center">No users found.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    
    <div class="section-title">Account Closure Requests</div>
    <div class="table-responsive">
      <table class="table table-bordered">
        <thead class="table-warning">
          <tr>
            <th>#</th>
            <th>User</th>
            <th>Account Number</th>
            <th>Requested On</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {% for request in closure_requests %}
          <tr>
            <td>{{ loop.index }}</td>
            <td>{{ request.fullname }}</td>
            <td>{{ request.account_number }}</td>
            <td>{{ request.request_time }}</td>
            <td>
              <a href="/admin/closure/{{ request.user_id }}" class="btn btn-sm btn-outline-danger">View</a>
            </td>
          </tr>
          {% else %}
          <tr>
            <td colspan="5" class="text-center">No account closure requests.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    
    <div class="text-center mt-4">
      <a href="/logout" class="btn btn-outline-secondary btn-primary" style="color: white;">Logout</a>
    </div>
    <div class="text-center mt-4">
  <small class="text-muted">&copy; 2025 sharafu@apt2002. All rights reserved.</small>
</div>
  </div>


</body>
</html>
